import{r as D,c as d,o as C,a,b as r,d as e,e as f,t as o,F as x,f as g,u as S}from"./index-CNtIdQN-.js";import{u as j}from"./decks-DpIHrgWe.js";import{u as A}from"./progress-DpDmdcBQ.js";const F={class:"container mx-auto px-4 py-8 max-w-md"},N={class:"bg-card rounded-lg border p-6 mb-6"},L={class:"text-center mb-4"},M={class:"text-2xl font-bold text-primary mb-1"},V=["disabled"],z={class:"bg-card rounded-lg border p-6"},B={class:"flex justify-between items-center mb-4"},P={class:"space-y-3"},$={class:"font-medium"},E={class:"text-sm text-muted-foreground"},R={class:"text-right"},T={class:"text-sm font-medium"},W={key:0,class:"text-center py-8 text-muted-foreground"},H={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50"},Y={class:"bg-background rounded-lg max-w-md w-full p-6"},q={class:"flex justify-between items-center mb-4"},G={class:"space-y-2"},I={class:"flex items-center"},J=["checked","onChange"],K={class:"mt-4 pt-4 border-t"},Z={__name:"HomeView",setup(O){const y=S(),l=j(),_=A(),i=D(!1),m=d(()=>l.decks),u=d(()=>l.getAvailableDecksForStudy),p=d(()=>u.value.reduce((n,t)=>n+t.newCards,0)),v=d(()=>u.value.reduce((n,t)=>n+t.reviewsDue,0)),c=d(()=>p.value+v.value);function h(){c.value>0&&y.push("/study")}function k(n,t){l.updateDeckSettings(n,{enabled:t})}function b(){l.initializeWithSampleData()}return C(()=>{l.loadFromPersistence(),_.loadFromPersistence(),m.value.length===0&&b()}),(n,t)=>(r(),a("div",F,[t[9]||(t[9]=e("header",{class:"text-center mb-8"},[e("h1",{class:"text-3xl font-bold text-primary mb-2"},"Word Learn App"),e("p",{class:"text-muted-foreground"},"Vocabulary learning through spaced repetition")],-1)),e("div",N,[t[3]||(t[3]=e("h2",{class:"text-lg font-semibold mb-4"},"Today's Task",-1)),e("div",L,[e("div",M,o(p.value)+" new cards, "+o(v.value)+" reviews ",1)]),e("button",{onClick:h,disabled:c.value===0,class:"w-full bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed rounded-md px-4 py-3 font-medium transition-colors"},o(c.value===0?"No cards available":"Start Learning"),9,V)]),e("div",z,[e("div",B,[t[4]||(t[4]=e("h2",{class:"text-lg font-semibold"},"Your Decks",-1)),e("button",{onClick:t[0]||(t[0]=s=>i.value=!0),class:"text-primary hover:text-primary/80 text-sm font-medium"}," Manage ")]),e("div",P,[(r(!0),a(x,null,g(u.value,s=>(r(),a("div",{key:s.id,class:"flex items-center justify-between p-3 rounded-md border bg-muted/50"},[e("div",null,[e("h3",$,o(s.name),1),e("p",E,o(s.newCards)+" new • "+o(s.reviewsDue)+" reviews ",1)]),e("div",R,[e("div",T,o(s.totalAvailable),1),t[5]||(t[5]=e("div",{class:"text-xs text-muted-foreground"},"cards",-1))])]))),128)),u.value.length===0?(r(),a("div",W,[t[6]||(t[6]=e("p",null,"No decks available",-1)),e("button",{onClick:b,class:"mt-2 text-primary hover:text-primary/80 text-sm font-medium"}," Add sample deck ")])):f("",!0)])]),i.value?(r(),a("div",H,[e("div",Y,[e("div",q,[t[7]||(t[7]=e("h3",{class:"text-lg font-semibold"},"Manage Decks",-1)),e("button",{onClick:t[1]||(t[1]=s=>i.value=!1),class:"text-muted-foreground hover:text-foreground"}," ✕ ")]),e("div",G,[(r(!0),a(x,null,g(m.value,s=>(r(),a("div",{key:s.id,class:"flex items-center justify-between p-2 rounded border"},[e("span",null,o(s.name),1),e("label",I,[e("input",{type:"checkbox",checked:s.enabled,onChange:w=>k(s.id,w.target.checked),class:"mr-2"},null,40,J),t[8]||(t[8]=e("span",{class:"text-sm"},"Enabled",-1))])]))),128))]),e("div",K,[e("button",{onClick:t[2]||(t[2]=s=>i.value=!1),class:"w-full bg-primary text-primary-foreground rounded-md px-4 py-2"}," Done ")])])])):f("",!0)]))}};export{Z as default};
